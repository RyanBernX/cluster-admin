# 概述

这一部分主要介绍调度器的配置。调度器（Scheduler）是运行在整个集群上的独立系统，主要负责计算资源的管理，运行用户作业（程序），进行各种审计（统计使用情况或记账）等。调度器的存在使得用户在集群上运行程序变得规范且简洁：用户只需关注自己程序所需要的资源，而不需要太多关注自己的程序究竟在哪个节点上运行，这些节点是否有其它用户干扰等琐碎的问题。可以说调度器是大型集群不可缺少的组成部分。

{% hint style="info" %}
如果仅仅是购买独立服务器或者工作站，一般来讲不需要安装**调度器**。建议集群计算节点个数超过 4 时再考虑安装。
{% endhint %}

有关调度器的选择，这里只推荐 [SLURM](https://slurm.schedmd.com/documentation.html)。目前为止 SLURM 应该是开源调度器中功能最多且最稳定的，虽然上手有些难度，但还是强烈建议折腾一下。本指南这部分的编写基于我最经常使用的一组配置，是 SLURM 官方文档的一个特例。个人认为我的这些配置已经绝对够用了，如果还是不能满足你的实际需求可以进一步参考官方文档。

SLURM 配置的步骤较多，这里将其拆成若干个页面便于阅读。主要内容包括：

* 安装依赖（主要是 MUNGE）
* 安装 SLURM
* 配置集群基本信息（节点，硬件信息等）
* 配置记账（Accounting）信息
* 配置计算节点访问控制
* 将 SLURM 配置为系统服务

{% hint style="warning" %}
在进行调度器配置之前，请确保上一部分“系统配置”中各项已经配置完毕。调度器的正确运行依赖于系统服务（SSH/NFS/NIS 等）的正确配置。
{% endhint %}

原则上，系统管理员在安装 SLURM 之后也需要了解 SLURM 的使用方式（即管理员同时也是用户），以便测试 SLURM 的功能或者为用户解答问题。本指南**不包含** SLURM 使用方面的内容，读者可以到 [SLURM 用户文档](https://slurm.schedmd.com/quickstart.html)中查询相关用法。

